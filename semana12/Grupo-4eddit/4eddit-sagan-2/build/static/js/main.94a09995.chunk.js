(this["webpackJsonp4eddit-boilerplate"]=this["webpackJsonp4eddit-boilerplate"]||[]).push([[0],{105:function(t,e,n){t.exports=n(133)},133:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(15),i=n.n(o),c=n(9),u=n(89),l=n(172),s=n(173),p=n(99),d=Object(p.a)({palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"rgba(219, 224, 230, 1)"},primary:{light:"rgba(88, 175, 240, 1)",main:"rgba(0, 121, 210, 1)",dark:"rgba(0, 71, 125, 1)",contrastText:"#fff"},secondary:{light:"rgba(193, 198, 201, 1)",main:"rgba(134, 138, 141, 1)",dark:"rgba(102, 105, 107, 1)",contrastText:"rgba(255, 255, 255, 1)"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 121, 210, 1)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(65, 117, 5, 1)"}}}),m=n(23),f=n(64),h=n(25),g=n(10),v=n(11),b=n(12),O=n(13),j=n(19),y=n.n(j),x=n(33),E=n(34),w=n.n(E),k="https://us-central1-missao-newton.cloudfunctions.net/fourEddit",S=function(t){return{type:"SET_USER",payload:{userData:t}}},C=function(){return function(){var t=Object(x.a)(y.a.mark((function t(e){var n,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=localStorage.getItem("token"),t.next=4,w.a.get("".concat(k,"/posts"),{headers:{auth:n}});case 4:a=t.sent,e(D(a.data)),e(I()),e(L()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),alert("erro ao logar. contate o suporte",t.t0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},D=function(t){return{type:"SET_POSTS",payload:{posts:t}}},T=function(t){return{type:"NEW_USER",payload:{newUserData:t}}},I=function(){return{type:"SET_LOADING_OFF",payload:{}}},L=function(){return{type:"SET_LOADING_FREE",payload:{}}},_=function(t){return function(){var e=Object(x.a)(y.a.mark((function e(n){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,w.a.get("".concat(k,"/posts/").concat(t),{headers:{auth:a}});case 4:r=e.sent,console.log(r.data.post),n(V(r.data.post)),n(I()),n(L()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),alert("erro ao pegar detalhes. contate o suporte",e.t0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},V=function(t){return{type:"SET_POST_DETAIL",payload:{post:t}}},P=n(20),W=n(6),A=n(7),N=n(174),U=n(175),R=n(135),F=n(134);function M(){var t=Object(W.a)(["\nmargin: o auto;\n"]);return M=function(){return t},t}function q(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: center;\nwidth: 60vw;\nheight: 60vh;\nmargin-left: 20vw;\n"]);return q=function(){return t},t}function z(){var t=Object(W.a)(["\n\n"]);return z=function(){return t},t}function H(){var t=Object(W.a)(["\n\n"]);return H=function(){return t},t}var G=Object(A.a)(N.a)(H()),J=Object(A.a)(U.a)(z()),X=Object(A.a)(F.a)(q()),Y=Object(A.a)(R.a)(M()),B=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleInput=function(t){a.setState(Object(h.a)({},t.target.name,t.target.value))},a.handleLogin=function(t){t.preventDefault();var e=a.state,n=e.email,r=e.password;a.props.login(n,r)},a.state={email:"thales.eduardo@gmail.com",password:"12345"},a}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(){null!==localStorage.getItem("token")&&this.props.goToFeed()}},{key:"render",value:function(){var t=this.state,e=t.email,n=t.password;return r.a.createElement(X,{elevation:2},r.a.createElement(Y,{variant:"h2",component:"h3",color:"primary"},"Fa\xe7a seu login "),r.a.createElement("form",{onSubmit:this.handleLogin},r.a.createElement(G,{variant:"outlined",name:"email",type:"email",label:"Digite seu email",required:!0,value:e,onChange:this.handleInput}),r.a.createElement(G,{variant:"outlined",name:"password",type:"password",label:"Digite sua senha",required:!0,value:n,onChange:this.handleInput}),r.a.createElement(J,{type:"submit",variant:"contained",color:"secondary"},"Login"),r.a.createElement(Y,{variant:"h5",component:"h3"}," Ou "),r.a.createElement("hr",null)),r.a.createElement(J,{onClick:this.props.goToRegister,variant:"contained",color:"secondary"},"Cadastre-se"))}}]),n}(a.Component),Z=Object(c.c)((function(t){return{user:t.posts.user}}),(function(t){return{login:function(e,n){return t(function(t,e){return function(){var n=Object(x.a)(y.a.mark((function n(a){var r,o,i,c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={email:t,password:e},n.prev=1,n.next=4,w.a.post("".concat(k,"/login"),r);case 4:o=n.sent,i=o.data.token,c=JSON.stringify(o.data.user),console.log(o.data),localStorage.setItem("token",i),localStorage.setItem("user",c),a(S(o.data.user)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),window.alert("Desculpe, o login de deu errado, tente novamente",n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))},goToRegister:function(){return t(Object(P.d)(Oe.cadastro))},goToFeed:function(){return t(Object(P.d)(Oe.root))}}}))(B),K=n(100),Q=n(177),$=n(46),tt=n.n($);function et(){var t=Object(W.a)(["\nwidth: 100%;\n"]);return et=function(){return t},t}function nt(){var t=Object(W.a)(["\nmargin-right: 5px;\nfont-size: 20px;\n"]);return nt=function(){return t},t}function at(){var t=Object(W.a)(["\nwidth: 20px;\nheight: 20px;\nmargin-right: 5px;\n"]);return at=function(){return t},t}function rt(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-top: 10px;\n"]);return rt=function(){return t},t}function ot(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-bottom: 10px;\n"]);return ot=function(){return t},t}function it(){var t=Object(W.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\ncursor: pointer;\n@media (min-width: 400px) {\n    width: 90%;\n  }\n"]);return it=function(){return t},t}var ct=Object(A.a)(F.a)(it()),ut=A.a.div(ot()),lt=A.a.div(rt()),st=Object(A.a)(Q.a)(at()),pt=Object(A.a)(tt.a)(nt()),dt=A.a.div(et());function mt(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\ncursor: pointer;\ntext-align: center;\nalign-content: center;\nalign-items: center;\nmargin-right: 10px;\n"]);return mt=function(){return t},t}var ft=A.a.div(mt()),ht=n(49),gt=n.n(ht),vt=n(178),bt=n(169),Ot=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){return Object(g.a)(this,n),e.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(vt.a,{style:{zIndex:10},open:this.props.open},r.a.createElement(bt.a,{color:"primary"})))}}]),n}(a.Component),jt=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handlewithVote=function(t){a.setState({loading:!0});var e="";a.props.userVoteDirection===t?e=0:a.props.userVoteDirection!==t&&(e=t);var n={direction:e};a.props.topicVote(a.props.topicId,n)},a.upIcon=function(){var t="gray";return 1===a.props.userVoteDirection&&(t="green"),{transform:"rotate(270deg)",color:t}},a.downIcon=function(){var t="gray";return-1===a.props.userVoteDirection&&(t="orange"),{transform:"rotate(90deg)",color:t}},a.state={loading:!1},a}return Object(v.a)(n,[{key:"componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"render",value:function(){var t=this;return r.a.createElement(ft,null,r.a.createElement(Ot,{open:this.state.loading}),r.a.createElement(gt.a,{onClick:function(){t.handlewithVote(1)},style:this.upIcon()}),r.a.createElement(R.a,{variant:"body1"},this.props.votesCount),r.a.createElement(gt.a,{onClick:function(){t.handlewithVote(-1)},style:this.downIcon()}))}}]),n}(a.Component),yt=Object(c.c)((function(t){return{loading:t.posts.loading}}),(function(t){return{topicVote:function(e,n){return t(function(t,e){return function(){var n=Object(x.a)(y.a.mark((function n(a){var r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=localStorage.getItem("token"),n.next=4,w.a.put("".concat(k,"/posts/").concat(t,"/vote"),e,{headers:{auth:r}});case 4:n.sent,a(C()),a(_(t)),a(I()),a(L()),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),window.alert("n\xe3o foi possivel votar"),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(jt),xt=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).textComment=function(){var e="comentarios";return 1===t.props.commentsNumber&&(e="comentario"),e},t.gna=function(){return Math.floor(9*Math.random())},t.calcHour=function(){var e="",n=(new Date-new Date(t.props.createdAt))/1e3/60/60,a=Math.trunc(n),r=Math.floor(60*(n-a)),o=0,i=0,c=a/24;c>1&&(i=Math.trunc(c),o=Math.floor(24*(c-i))),c<1&&(o=24*c);var u=new Date(t.props.createdAt),l=u.getDate(),s=u.getMonth()+1,p=u.getFullYear();return i>0?e="".concat(i," dias, ").concat(o," horas e ").concat(r," minutos (").concat(l,"/").concat(s,"/").concat(p,")."):i<=0&&o>0?e="".concat(o," horas e ").concat(r," minutos (").concat(l,"/").concat(s,"/").concat(p,")."):i<=0&&o<=0&&(e="".concat(r," minutos (").concat(l,"/").concat(s,"/").concat(p,").")),e},t}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(){null===localStorage.getItem("token")&&this.props.goToLogin(),this.calcHour()}},{key:"render",value:function(){var t=this,e=this.calcHour();return r.a.createElement(ct,null,r.a.createElement(yt,{key:this.props.id,userVoteDirection:this.props.userVoteDirection,topicId:this.props.id,votesCount:this.props.votesCount}),r.a.createElement(dt,{onClick:function(){t.props.selectedId(t.props.id)}},r.a.createElement(ut,null,r.a.createElement(st,{src:"https://picsum.photos/1".concat(this.gna()).concat(this.gna())}),r.a.createElement(R.a,{variant:"caption",color:"secondary"},r.a.createElement("strong",null,"r/categoria")," Criado por: ",r.a.createElement("strong",null,"u/",this.props.username)," a ",e)),r.a.createElement("div",null,r.a.createElement(R.a,{variant:"h6",color:"textPrimary"},this.props.title),r.a.createElement(R.a,{variant:"subtitle1",color:"textPrimary"},this.props.text)),r.a.createElement(lt,null,r.a.createElement(pt,null),r.a.createElement(R.a,{variant:"caption",color:"secondary"}," ",this.props.commentsNumber," ",this.textComment()))))}}]),n}(a.Component),Et=Object(c.c)((function(t){return{}}),(function(t){return{goToLogin:function(){return t(Object(P.d)(Oe.login))}}}))(xt),wt=n(17),kt=[{name:"title",label:"Titulo",type:"text",required:!0,title:"T\xedtulo do post"},{name:"text",label:"Texto da postagem",type:"text",required:!0,title:"Texto descrevendo a postagem",multiline:!0,rows:5}];function St(){var t=Object(W.a)(["\ndisplay: flex;\njustify-content: center\n"]);return St=function(){return t},t}function Ct(){var t=Object(W.a)(["\nbackground-color: #f6f7f9;\ndisplay: flex;  \njustify-content: center;\nalign-content: center;\nalign-items: center;\ntext-align: center;\nalign-self: center;\n"]);return Ct=function(){return t},t}function Dt(){var t=Object(W.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\n@media (max-width: 768px) {\n    display: flex;\n    justify-content: center;\n    width: 95%;\n    min-width: 95%;\n}\n"]);return Dt=function(){return t},t}var Tt=Object(A.a)(F.a)(Dt()),It=Object(A.a)(N.a)(Ct()),Lt=(A.a.div(St()),n(176)),_t=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handleInputChange=function(t){var e=t.target,n=e.name,r=e.value;a.setState({form:Object(wt.a)({},a.state.form,Object(h.a)({},n,r))})},a.handleSubmission=function(t){a.setState({loading:!0}),t.preventDefault(),a.props.newPost(a.state.form)},a.state={form:{},loading:!1},a}return Object(v.a)(n,[{key:"componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"render",value:function(){var t=this;return r.a.createElement(Tt,null,r.a.createElement(Ot,{open:this.state.loading}),r.a.createElement(Lt.a,{fullWidth:!0},r.a.createElement("form",{onSubmit:this.handleSubmission},kt.map((function(e){return r.a.createElement(It,{variant:"outlined",key:e.name,id:e.name,label:e.label,name:e.name,type:e.type,onChange:t.handleInputChange,pattern:e.pattern,inputProps:{pattern:e.pattern,min:e.min,title:e.title},min:e.min,required:e.required,title:e.title,value:t.state.form[e.name],margin:"dense",fullWidth:!0,multiline:e.multiline,rows:e.rows})})),r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary"},"Enviar"))))}}]),n}(a.Component),Vt=Object(c.c)((function(t){return{loading:t.posts.loading}}),(function(t){return{newPost:function(e){return t(function(t){return function(){var e=Object(x.a)(y.a.mark((function e(n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,w.a.post("".concat(k,"/posts"),t,{headers:{auth:a}});case 4:e.sent,n(C()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("erro ao enviar. contate o suporte",e.t0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))(_t);function Pt(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-content: center;\nalign-items: center;\n"]);return Pt=function(){return t},t}var Wt=A.a.div(Pt()),At=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handleWhitSelect=function(t){a.setState({loading:!0}),a.props.getPostDetail(t)},a.state={loading:!0},a}return Object(v.a)(n,[{key:"componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"componentDidMount",value:function(){null===localStorage.getItem("token")&&this.props.goToLogin(),this.props.getPosts()}},{key:"componentDidUpdate",value:function(){null!==this.props.postComments&&this.props.goToPostDetail(),null===localStorage.getItem("token")&&this.props.goToLogin()}},{key:"render",value:function(){var t=this,e=Object(K.a)(this.props.posts).filter((function(e){return e.title.toLowerCase().includes(t.props.searchTerms.toLowerCase())||e.text.toLowerCase().includes(t.props.searchTerms.toLowerCase())})),n=this.props.posts&&this.props.posts.map((function(e){return r.a.createElement(Et,{key:e.id,votesCount:e.votesCount,userVoteDirection:e.userVoteDirection,commentsNumber:e.commentsNumber,id:e.id,username:e.username,text:e.text,createdAt:e.createdAt,title:e.title,selectedId:t.handleWhitSelect})})),a=this.props.posts&&e.map((function(e){return r.a.createElement(Et,{key:e.id,votesCount:e.votesCount,userVoteDirection:e.userVoteDirection,commentsNumber:e.commentsNumber,id:e.id,username:e.username,text:e.text,createdAt:e.createdAt,title:e.title,selectedId:t.handleWhitSelect})}));return r.a.createElement(Wt,null,r.a.createElement(Ot,{open:this.state.loading}),r.a.createElement(Vt,null),this.props.searchTerms.length>0?a:n)}}]),n}(a.Component),Nt=Object(c.c)((function(t){return{posts:t.posts.posts,postComments:t.posts.postComments,user:t.posts.user,loading:t.posts.loading,searchTerms:t.posts.searchTerms}}),(function(t){return{goToLogin:function(){return t(Object(P.d)(Oe.login))},goToPostDetail:function(){return t(Object(P.d)(Oe.postdetails))},getPosts:function(){return t(C())},getPostDetail:function(e){return t(_(e))}}}))(At),Ut=[{name:"username",label:"Nome do novo Usu\xe1rio",type:"text",pattern:"[a-zA-Z]{3,}",title:"nome do usu\xe1rio com no m\xednimo 3 letras"},{name:"email",label:"email do novo Usu\xe1rio",type:"email",title:"email completo do usu\xe1rio"},{name:"password",label:"senha do novo Usu\xe1rio",type:"password",pattern:"{5,}",title:"nova senha com no m\xednimo 5 digitos"}],Rt=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleInputnewUser=function(t){var e=t.target,n=e.name,r=e.value;a.setState({form:Object(wt.a)({},a.state.form,Object(h.a)({},n,r))})},a.handleOnSubmit=function(t){t.preventDefault(),a.props.newRegister(a.state.form)},a.state={form:{}},a}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(){null!==localStorage.getItem("token")&&this.props.goToFeed()}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleOnSubmit},Ut.map((function(e){return r.a.createElement("div",null,r.a.createElement("label",null,e.label),r.a.createElement(N.a,{variant:"outlined",name:e.name,type:e.type,value:t.state.form[e.name],required:e.required,onChange:t.handleInputnewUser,title:e.title}))})),r.a.createElement(U.a,{type:"submit",variant:"contained"},"Cadastrar")))}}]),n}(a.Component),Ft=Object(c.c)((function(t){return{user:t.posts.user}}),(function(t){return{goToFeed:function(){return t(Object(P.d)(Oe.root))},newRegister:function(e){return t(function(t){return function(){var e=Object(x.a)(y.a.mark((function e(n){var a,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,w.a.post("".concat(k,"/signup"),t);case 4:a=e.sent,n(T(a.data)),r=a.data.token,o=JSON.stringify(a.data.user),localStorage.setItem("user",o),localStorage.setItem("token",r),n(S(a.data.user)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),window.alert("Ops, n\xe3o foi poss\xedvel cadastrar, tente novamente!"),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))(Rt);function Mt(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\ncursor: pointer;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\n"]);return Mt=function(){return t},t}var qt=A.a.div(Mt()),zt=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handlewithVote=function(t){a.setState({loading:!0});var e="";a.props.userVoteDirection===t?e=0:a.props.userVoteDirection!==t&&(e=t);var n={direction:e};a.props.commentVote(a.props.topicId,n,a.props.commentId)},a.upIcon=function(){var t="gray";return 1===a.props.userVoteDirection&&(t="green"),{transform:"rotate(270deg)",color:t}},a.downIcon=function(){var t="gray";return-1===a.props.userVoteDirection&&(t="orange"),{transform:"rotate(90deg)",color:t}},a.state={loading:!1},a}return Object(v.a)(n,[{key:"componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"render",value:function(){var t=this;return r.a.createElement(qt,null,r.a.createElement(Ot,{open:this.state.loading}),r.a.createElement(gt.a,{onClick:function(){t.handlewithVote(1)},style:this.upIcon()}),r.a.createElement(R.a,{variant:"body1"},this.props.votesCount),r.a.createElement(gt.a,{onClick:function(){t.handlewithVote(-1)},style:this.downIcon()}))}}]),n}(a.Component),Ht=Object(c.c)((function(t){return{loading:t.posts.loading}}),(function(t){return{commentVote:function(e,n,a){return t(function(t,e,n){return function(){var a=Object(x.a)(y.a.mark((function a(r){var o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o=localStorage.getItem("token"),a.next=4,w.a.put("".concat(k,"/posts/").concat(t,"/comment/").concat(n,"/vote"),e,{headers:{auth:o}});case 4:a.sent,r(_(t)),r(I()),r(L()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),window.alert("n\xe3o foi possivel votar"),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(t){return a.apply(this,arguments)}}()}(e,n,a))}}}))(zt);function Gt(){var t=Object(W.a)(["\nwidth: 100%;\n"]);return Gt=function(){return t},t}function Jt(){var t=Object(W.a)(["\nmargin-right: 5px;\nfont-size: 15px;\n"]);return Jt=function(){return t},t}function Xt(){var t=Object(W.a)(["\nwidth: 20px;\nheight: 20px;\nmargin-right: 5px;\n"]);return Xt=function(){return t},t}function Yt(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-bottom: 10px;\n"]);return Yt=function(){return t},t}function Bt(){var t=Object(W.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\n"]);return Bt=function(){return t},t}function Zt(){var t=Object(W.a)(["\ndisplay: flex;\njustify-content: space-between;\npadding: 10px;\n"]);return Zt=function(){return t},t}A.a.div(Zt());var Kt=Object(A.a)(F.a)(Bt()),Qt=A.a.div(Yt()),$t=(Object(A.a)(Q.a)(Xt()),Object(A.a)(tt.a)(Jt()),A.a.div(Gt())),te=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).calcHour=function(){var e="",n=(new Date-new Date(t.props.createdAt))/1e3/60/60,a=Math.trunc(n),r=Math.floor(60*(n-a)),o=0,i=0,c=a/24;c>1&&(i=Math.trunc(c),o=Math.floor(24*(c-i))),c<1&&(o=24*c);var u=new Date(t.props.createdAt),l=u.getDate(),s=u.getMonth()+1,p=u.getFullYear();return i>0?e="".concat(i," dias, ").concat(o," horas e ").concat(r," minutos (").concat(l,"/").concat(s,"/").concat(p,")."):i<=0&&o>0?e="".concat(o," horas e ").concat(r," minutos (").concat(l,"/").concat(s,"/").concat(p,")."):i<=0&&o<=0&&(e="".concat(r," minutos (").concat(l,"/").concat(s,"/").concat(p,").")),e},t}return Object(v.a)(n,[{key:"render",value:function(){var t=this.calcHour();return r.a.createElement(Kt,null,r.a.createElement(Ht,{commentId:this.props.id,votesCount:this.props.votesCount,userVoteDirection:this.props.userVoteDirection,topicId:this.props.topicId}),r.a.createElement($t,null,r.a.createElement(Qt,null,r.a.createElement(R.a,{variant:"caption",color:"secondary"},"Comentado por ",r.a.createElement("strong",null," ",this.props.username)," a ",t," ")),r.a.createElement("div",null,r.a.createElement(R.a,{variant:"subtitle2",color:"textPrimary"},this.props.text))))}}]),n}(a.Component);function ee(){var t=Object(W.a)(["\ndisplay: flex;\njustify-content: center\n"]);return ee=function(){return t},t}function ne(){var t=Object(W.a)(["\nbackground-color: #f6f7f9;\ndisplay: flex;  \njustify-content: center;\nalign-content: center;\nalign-items: center;\ntext-align: center;\nalign-self: center;\n"]);return ne=function(){return t},t}function ae(){var t=Object(W.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\n@media (max-width: 768px) {\n    display: flex;\n    justify-content: center;\n    width: 95%;\n    min-width: 95%;\n}\n"]);return ae=function(){return t},t}var re=Object(A.a)(F.a)(ae()),oe=Object(A.a)(N.a)(ne()),ie=(A.a.div(ee()),[{name:"text",label:"Novo coment\xe1rio",type:"text",multiline:!0,rows:3,title:"Escreva um novo coment\xe1rio"}]),ce=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.handleInputChange=function(t){var e=t.target,n=e.name,r=e.value;a.setState({form:Object(wt.a)({},a.state.form,Object(h.a)({},n,r))})},a.handleOnSubmit=function(t){a.setState({loading:!0}),t.preventDefault(),a.props.newComment(a.props.id,a.state.form),console.log("teste ")},a.state={form:{},loading:!1},a}return Object(v.a)(n,[{key:"componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"render",value:function(){var t=this;return r.a.createElement(re,null,r.a.createElement(Ot,{open:this.state.loading}),r.a.createElement(Lt.a,{fullWidth:!0},r.a.createElement("form",{onSubmit:this.handleOnSubmit},ie.map((function(e){return r.a.createElement(oe,{variant:"outlined",key:t.props.id,label:e.label,name:e.name,type:e.type,value:t.state.form[e.name],required:e.required,multiline:e.multiline,rows:e.rows,fullWidth:!0,onChange:t.handleInputChange,title:e.title})})),r.a.createElement(U.a,{type:"submit",variant:"contained",color:"primary"},"Comentar"))))}}]),n}(a.Component),ue=Object(c.c)((function(t){return{user:t.posts.user,loading:t.posts.loading}}),(function(t){return{goToFeed:function(){return t(Object(P.d)(Oe.root))},newComment:function(e,n){return t(function(t,e){return function(){var n=Object(x.a)(y.a.mark((function n(a){var r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),console.log(t),n.prev=2,r=localStorage.getItem("token"),n.next=6,w.a.post("".concat(k,"/posts/").concat(t,"/comment"),e,{headers:{auth:r}});case 6:n.sent,a(_(t)),a(I()),a(L()),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(2),window.alert("Ops, n\xe3o foi poss\xedvel comentar!"),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(ce);function le(){var t=Object(W.a)(["\nwidth: 100%;\n"]);return le=function(){return t},t}function se(){var t=Object(W.a)(["\nmargin-right: 5px;\nfont-size: 15px;\n"]);return se=function(){return t},t}function pe(){var t=Object(W.a)(["\nwidth: 20px;\nheight: 20px;\nmargin-right: 5px;\n"]);return pe=function(){return t},t}function de(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-top: 10px;\n"]);return de=function(){return t},t}function me(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-bottom: 10px;\n"]);return me=function(){return t},t}function fe(){var t=Object(W.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\n"]);return fe=function(){return t},t}function he(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-content: center;\nalign-items: center;\n"]);return he=function(){return t},t}var ge=A.a.div(he()),ve=(Object(A.a)(F.a)(fe()),A.a.div(me()),A.a.div(de()),Object(A.a)(Q.a)(pe()),Object(A.a)(tt.a)(se()),A.a.div(le()),function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleWhitLoading=function(){"desliga"===a.props.loading&&a.setState({loading:!1})},a.textComment=function(){var t="comentarios";return 1===a.props.commentsNumber&&(t="comentario"),t},a.gna=function(){return Math.floor(9*Math.random())},a.state={loading:!0},a}return Object(v.a)(n,[{key:"componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"componentDidUpdate",value:function(){null===localStorage.getItem("token")&&this.props.goToLogin()}},{key:"render",value:function(){var t=Object(wt.a)({},this.props.postDetail);return r.a.createElement(ge,null,r.a.createElement(Ot,{open:this.state.loading}),r.a.createElement(Et,{key:t.id,votesCount:t.votesCount,userVoteDirection:t.userVoteDirection,commentsNumber:t.commentsNumber,id:t.id,username:t.username,text:t.text,createdAt:t.createdAt,title:t.title,selectedId:function(){console.log(t.id)}}),r.a.createElement(ue,{id:t.id}),this.props.postDetail&&this.props.postDetail.comments.map((function(e){return r.a.createElement(te,{key:e.id,votesCount:e.votesCount,userVoteDirection:e.userVoteDirection,id:e.id,username:e.username,text:e.text,createdAt:e.createdAt,topicId:t.id})})))}}]),n}(a.Component)),be=Object(c.c)((function(t){return{postDetail:t.posts.postDetail,user:t.posts.user,loading:t.posts.loading}}),(function(t){return{goToLogin:function(){return t(Object(P.d)(Oe.login))}}}))(ve),Oe={root:"/",login:"/login",cadastro:"/register",postdetails:"/details"};var je=function(t){return r.a.createElement(m.a,{history:t.history},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:Oe.root,component:Nt}),r.a.createElement(f.a,{exact:!0,path:Oe.login,component:Z}),r.a.createElement(f.a,{exact:!0,path:Oe.cadastro,component:Ft}),r.a.createElement(f.a,{exact:!0,path:Oe.postdetails,component:be})))},ye=n(31),xe=n(37),Ee={posts:[],user:[],postDetail:null,postComments:null,topicVote:null,loading:"",searchTerms:""},we=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_POSTS":return Object(wt.a)({},t,{posts:e.payload.posts.posts});case"SET_USER":return Object(wt.a)({},t,{user:e.payload.userData});case"NEW_USER":return Object(wt.a)({},t,{newUser:e.payload.newUserData});case"SET_LOGOUT":return Object(wt.a)({},t,{user:[]});case"SET_POST_DETAIL":return Object(wt.a)({},t,{postDetail:e.payload.post,postComments:e.payload.post.comments});case"SET_LOADING_OFF":return Object(wt.a)({},t,{loading:"desliga"});case"SET_LOADING_FREE":return Object(wt.a)({},t,{loading:""});case"SET_SEARCH":return Object(wt.a)({},t,{searchTerms:e.payload.terms});default:return t}},ke=n(87),Se=n(170);function Ce(){var t=Object(W.a)(["\nbackground-color: #f6f7f9;\nalign-self: center;\n"]);return Ce=function(){return t},t}function De(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\nmargin: 5px;\n@media (max-width: 768px) {\n    visibility: hidden;\n    max-height: 0;\n}\n"]);return De=function(){return t},t}function Te(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\ncursor: pointer\n"]);return Te=function(){return t},t}function Ie(){var t=Object(W.a)(["\nbackground-color: darkorange;\npadding: 10px;\nborder-radius: 50%;\nwidth: auto;\nheight: width;\nmargin: 20px;\n@media (max-width: 768px) {\n    margin: 10px;\n}\n"]);return Ie=function(){return t},t}function Le(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\nbackground-color: white;\nmargin-bottom: 20px;\n@media (max-width: 768px) {\n    flex-direction: column;\n    margin-bottom: 5px;\n}\n"]);return Le=function(){return t},t}function _e(){var t=Object(W.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\n"]);return _e=function(){return t},t}var Ve,Pe=A.a.div(_e()),We=Object(A.a)(Se.a)(Le()),Ae=A.a.div(Ie()),Ne=A.a.div(Te()),Ue=A.a.div(De()),Re=Object(A.a)(N.a)(Ce()),Fe=n(97),Me=n.n(Fe),qe=n(98),ze=n.n(qe),He=n(171),Ge=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(g.a)(this,n),(a=e.call(this,t)).handleInputChange=function(t){var e=t.target.value;a.setState({form:Object(wt.a)({},a.state.form,{searchTerms:e})}),a.props.setSearch(a.state.form.searchTerms)},a.state={form:{searchTerms:""}},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("user"));null!==t&&this.props.setUser(t)}},{key:"render",value:function(){var t=r.a.createElement(Ue,null,r.a.createElement(Ue,null,r.a.createElement(U.a,{variant:"outlined",size:"small",color:"primary",onClick:this.props.setLogout},"Logout")),r.a.createElement("div",null,r.a.createElement(R.a,{variant:"subtitle2",color:"textPrimary"},"User: ",null===this.props.user?"":this.props.user.username),r.a.createElement(R.a,{variant:"subtitle2",color:"textPrimary"},"Email: ",null===this.props.user?"":this.props.user.email))),e=r.a.createElement(Pe,{onClick:this.props.goToFeed},r.a.createElement(Ae,null,r.a.createElement(Me.a,{fontSize:"large"})),r.a.createElement(Ne,null,r.a.createElement(R.a,{variant:"h5",color:"textPrimary"},"4eddit"),r.a.createElement(R.a,{variant:"subtitle2",color:"textPrimary"},"Turma 2 - Sagan"))),n=r.a.createElement(Pe,null,r.a.createElement(Re,{placeholder:"Search",variant:"outlined",value:this.state.searchTerms,onChange:this.handleInputChange,InputProps:{startAdornment:r.a.createElement(He.a,{position:"start"},r.a.createElement(ze.a,null))}}));return r.a.createElement(We,{position:"relative",elevation:0},0===this.props.user.length?"":e,0===this.props.user.length?"":n,0===this.props.user.length?"":t," ")}}]),n}(a.Component),Je=Object(c.c)((function(t){return{user:t.posts.user}}),(function(t){return{setLogout:function(){return t((localStorage.clear(),{type:"SET_LOGOUT",payload:{}}))},setUser:function(e){return t(S(e))},setSearch:function(e){return t(function(t){return{type:"SET_SEARCH",payload:{terms:t}}}(e))},goToFeed:function(){return t(Object(P.d)(Oe.root))}}}))(Ge),Xe=Object(ye.a)(),Ye=[Object(xe.a)(Object(ke.a)(Xe),u.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(t){return t}],Be=Object(xe.e)((Ve=Xe,Object(xe.c)({router:Object(m.b)(Ve),posts:we})),xe.d.apply(void 0,Ye)),Ze=function(){return r.a.createElement(c.a,{store:Be},r.a.createElement(l.a,{theme:d},r.a.createElement(s.a,null),r.a.createElement(Je,null),r.a.createElement(je,{history:Xe})))},Ke=document.getElementById("root");i.a.render(r.a.createElement(Ze,null),Ke)}},[[105,1,2]]]);
//# sourceMappingURL=main.94a09995.chunk.js.map